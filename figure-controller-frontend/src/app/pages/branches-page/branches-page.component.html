<div class="min-h-screen bg-gradient-to-br from-slate-50 to-gray-100 py-8 px-4 sm:px-6 lg:px-8">
  <div class="max-w-7xl mx-auto">

    <!-- Header -->
    <div class="text-center mb-10">
      <h1 class="text-3xl sm:text-4xl font-bold text-slate-800
                 flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4 mb-3">
        <lucide-icon name="Building2" size="40" sm:size="48" class="text-indigo-600"></lucide-icon>
        <span>{{ regionName() }}</span>
      </h1>
      <p class="text-base sm:text-lg text-slate-600 max-w-xl mx-auto">
        Select a branch to view its sales officers
      </p>
    </div>

    <!-- Search Bar -->
    <div class="max-w-2xl mx-auto mb-10 sm:mb-12">
      <div class="relative">
        <lucide-icon name="Search"
                     size="20"
                     class="absolute left-4 sm:left-5 top-1/2 -translate-y-1/2 text-slate-400">
        </lucide-icon>

        <input
          type="text"
          placeholder="Search by branch name or code..."
          [value]="searchTerm()"
          (input)="updateSearch($event)"
          class="w-full pl-12 sm:pl-14 pr-12 py-4 sm:py-5
                 bg-white border border-slate-300 rounded-2xl
                 shadow-sm focus:outline-none focus:ring-4 focus:ring-indigo-500/30
                 focus:border-indigo-500 text-base sm:text-lg
                 transition-all duration-200"
        />

        <!-- Clear Button -->
        <button
          *ngIf="searchTerm()"
          (click)="clearSearch()"
          class="absolute right-4 sm:right-5 top-1/2 -translate-y-1/2
                 text-slate-400 hover:text-slate-600 transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"
               viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 6 6 18M6 6l12 12"></path>
          </svg>
        </button>
      </div>
    </div>

    <!-- Branches Grid - Fully Responsive -->
    <div *ngIf="filteredBranches().length > 0; else emptyState">
      <div class="grid grid-cols-1
                  sm:grid-cols-2
                  md:grid-cols-2
                  lg:grid-cols-2
                  xl:grid-cols-3
                  gap-6 sm:gap-8">
        <app-branch-card
          *ngFor="let branch of filteredBranches(); trackBy: trackByBranchCode"
          [branchCode]="branch.brnCode"
          [branchName]="branch.brnName"
          [currentMonthGwp]="branch.currentMonthGwp"
          [accumulatedGwp]="branch.accumulatedGwp"
        ></app-branch-card>
      </div>
    </div>

    <!-- Empty State -->
    <ng-template #emptyState>
      <div class="text-center py-16 sm:py-20">
        <div class="w-28 h-28 sm:w-32 sm:h-32 bg-slate-100 rounded-full
                    mx-auto flex items-center justify-center mb-6">
          <lucide-icon name="Building2" size="56" sm:size="64" class="text-slate-300"></lucide-icon>
        </div>
        <h3 class="text-xl sm:text-2xl font-semibold text-slate-700 mb-3">
          No branches found
        </h3>
        <p class="text-slate-500 text-base sm:text-lg max-w-md mx-auto px-4">
          {{ searchTerm()
              ? 'Try a different search term.'
              : 'No branches assigned to your region yet.' }}
        </p>
        <button
          *ngIf="searchTerm()"
          (click)="clearSearch()"
          class="mt-6 text-indigo-600 font-medium hover:underline text-base">
          Clear search
        </button>
      </div>
    </ng-template>

  </div>
</div>
